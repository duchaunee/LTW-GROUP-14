<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>View Order</title>
  <link rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" />
  <link rel="stylesheet" href="../../CSS/reset.css">
  <link rel="stylesheet" href="orderDetail.css">
</head>

<body>
  <div class='admin_wrapper'>
    <div class="admin_main">
      <!-- /////////////////////////////////// TAB LEFT /////////////////////////////////////// -->
      <div class="admin_left">
        <div class="admin_leftInfo">
          <img class='' src="https://source.unsplash.com/random" alt="" />
          <span class=''>Your name here </span>
        </div>
        <ul class='admin_leftTab'>

          <a class='admin_leftItem'>
            <div class=''>
              <i style="font-size: 18px;" class="fas fa-home"></i>
              <span class=''>Trở về trang chủ</span>
            </div>
          </a>

          <a class='admin_leftItem '>
            <div class=''>
              <i style="font-size: 18px;" class="fas fa-external-link-alt"></i>
              <span class=''>Thống kê cửa hàng</span>
            </div>
          </a>

          <a class='admin_leftItem '>
            <div class=''>
              <i style="font-size: 18px;" class="fas fa-users"></i>
              <span class=''>Quản lý người dùng</span>
            </div>
          </a>

          <a class='admin_leftItem '>
            <div class=''>
              <i class="fas fa-mountain"></i>
              <span class=''>Xem sản phẩm</span>
            </div>
          </a>

          <a class='admin_leftItem '>
            <div class=''>
              <i style="font-size: 18px;" class="fas fa-plus"></i>
              <span class=''>Thêm sản phẩm</span>
            </div>
          </a>

          <a class='admin_leftItem '>
            <div class=''>
              <i style="font-size: 18px;" class="fas fa-folder"></i>
              <span class=''>Xem đơn đặt hàng</span>
            </div>
          </a>
          <!-- <NavActive to='home' icon={faHome} text='Thống kê' />
          <NavActive to='view-users' icon={faUsers} iconSize='text-[18px]' text='Quản lý khách hàng' />
          <NavActive to='view-products' icon={faMountain} iconSize='text-[22px]' text='Xem sản phẩm' />
          <NavActive to='add-product/add' icon={faPlus} text='Thêm sản phẩm' />
          <NavActive to='view-orders/view' icon={faFolder} text='Xem đơn đặt hàng' /> -->
        </ul>

      </div>
      <!-- ///////////////////////////////////// RIGHT ///////////////////////////////////////// -->
      <!-- TẤT CẢ CHỈ KHÁC NHAU CÁI RIGHT THÔI NHÉ -->
      <div class="admin_right">
        <!-- ${loading && 'blur-[2px]'} -->
        <div class="w-full h-auto">
          <div class="max-w-[1230px] mx-auto ">
            <div class="w-full px-[15px]">
              <div class="w-full flex">
                <form class='w-full flex flex-col '>
                  <!-- top  -->
                  <div class="flex">
                    <div class="w-full pr-4 border border-transparent border-r-[#ddd]">
                      <h1 class='text-[18px] text-bgPrimary font-bold uppercase flex items-center'>
                        Chi tiết đơn hàng
                        <div class="inline-block px-1 border border-[#777] ml-2 text-[16px]">
                          <p class="inline-block text-primary opacity-75">{order?.orderStatus}</p>
                        </div>
                      </h1>
                      <div class="w-[100px] h-[3px] my-[10px] bg-red-600"></div>
                      <div class="">
                        <div
                          class="flex justify-between uppercase font-bold border-[2px] border-transparent border-b-[#ccc]">
                          <h2 class='text-[14px] tracking-widest text-bgPrimary py-2'>Sản phẩm</h2>
                          <h2 class='text-[14px] tracking-widest text-bgPrimary py-2'>Tổng</h2>
                        </div>
                        <div
                          class="flex items-center justify-between border border-transparent border-b-[#ddd]">
                          <div class="flex pb-4 mt-4">
                            <a to={`/san-pham/${order?.cartProduct.id}`} class=''>
                              <img class="h-[80px] object-cover" src={order?.cartProduct.imgURL}
                                alt="" />
                            </a>
                            <div class="pl-4">
                              <div class="flex">
                                <a to={`/san-pham/${order?.cartProduct.id}`} class='text-[#334862]'>
                                  {order?.cartProduct.name || 'day la ten de chay skeleton'}
                                </a>
                                <p class='inline-block ml-1'> ×{order?.cartProduct.quantity}</p>
                              </div>
                              <div class="text-[14px] text-[#777]">
                                <p class="mr-1 inline-block">Phân loại hàng:</p>
                                {`${solveCategory(order?.cartProduct.category)} |
                                ${solveBrand(order?.cartProduct.brand)}`}
                              </div>
                              <div
                                class="text-primary px-1 text-[12px] border border-primary inline-block">
                                7 ngày trả hàng</div>
                            </div>
                          </div>
                        </div>
                        <div
                          class="flex justify-between text-[14px] py-2 border border-transparent border-b-[#ddd]">
                          <h2 class=''>Thời gian đặt hàng</h2>
                          <h2 class={`${loading && 'w-[100px]' } font-bold inline-block
                            text-[14px]`}>
                            {(order && `${order?.orderDate} | ${order?.orderTime}`) || '25 tháng 4
                            năm 2002'}
                          </h2>
                        </div>
                        <div
                          class="flex justify-between text-[14px] py-2 border border-transparent border-b-[#ddd]">
                          <h2 class=''>Tổng phụ</h2>
                          <h2 class={`${loading && 'w-[100px]' } font-bold inline-block
                            text-[14px]`}>
                            {solvePrice(order?.cartProduct.price) || '9.999.999'} ₫
                          </h2>
                        </div>
                        <div
                          class="flex justify-between text-[14px] py-2 border border-transparent border-b-[#ddd]">
                          <h2 class=''>Giao hàng</h2>
                          <h2 class='font-bold inline-block text-[14px]'>
                            {solvePrice(order?.deliveryFee) || '9.999.999'} ₫
                          </h2>
                        </div>
                        <div
                          class="flex justify-between text-[14px] py-2 border border-transparent border-b-[#ddd]">
                          <h2 class=''>Giảm giá từ shop</h2>
                          <h2 class='font-bold inline-block text-[14px]'>
                            {solvePrice(order?.discount) || '9.999.999'} ₫
                          </h2>
                        </div>
                        <div
                          class="flex justify-between text-[14px] py-2 border border-transparent border-b-[#ddd]">
                          <h2 class=''>Phương thức thanh toán</h2>
                          <h2 class='font-bold inline-block text-[14px]'>
                            {order && order?.shippingAddress.paymentMethod
                            ? `${order?.shippingAddress.paymentMethod === "cash"
                            ? 'Trả tiền mặt khi nhận hàng'
                            : 'Chuyển khoản ngân hàng'}`
                            : 'Trả tiền mặt khi nhận hàng'}
                          </h2>
                        </div>
                        <div
                          class="flex justify-between text-[14px] py-2 border border-transparent border-b-[#ddd]">
                          <h2 class=''>Tổng cộng</h2>
                          <h2 class='font-bold inline-block text-[14px]'>
                            {`${order && order?.cartProduct.price + order?.deliveryFee -
                            order?.discount > 0
                            ? solvePrice(order?.cartProduct.price + order?.deliveryFee -
                            order?.discount)
                            : 0} ₫` || '9.999.999 ₫'}
                          </h2>
                        </div>
                      </div>
                    </div>
                    <div class="w-full pl-4">
                      <h1 class='text-[18px] text-bgPrimary font-bold uppercase'>Thông tin khách
                        hàng</h1>
                      <div class="w-[100px] h-[3px] my-[10px] bg-red-600"></div>
                      <div
                        class="flex justify-between uppercase font-bold border-[2px] border-transparent border-b-[#ccc]">
                        <h2 class='text-[14px] tracking-widest text-bgPrimary py-2'>Thông tin</h2>
                        <h2 class='text-[14px] tracking-widest text-bgPrimary py-2'>Cụ thể</h2>
                      </div>
                      <div class="">
                        <div
                          class="flex items-center justify-between border border-transparent border-b-[#ddd]">
                          <div class="flex pb-4 mt-4">
                            <a // to={`/san-pham/${order?.cartProduct.id}`} class=''>
                              <img class="h-[80px] aspect-square object-cover rounded-full"
                                src={order?.imgAvatar} alt="" />
                            </a>
                            <div class="pl-4">
                              <div class="">
                                <div class='text-bgPrimary'>
                                  <p class="font-medium inline-block mr-1">Họ tên:</p>
                                  {order?.displayName || 'day la ten de chay skeleton'}
                                </div>
                                <p class="font-medium inline-block mr-1">Email:</p>
                                <p class='inline-block'> {order?.displayEmail}</p>
                              </div>
                              <div
                                class="text-primary px-1 text-[12px] border border-primary inline-block">
                                Thành viên của ShoesPlus</div>
                            </div>
                          </div>
                        </div>
                        <!-- <div
                          class="flex justify-between text-[14px] py-2 border border-transparent border-b-[#ddd]">
                          <h2 class=''>Thời gian đặt hàng</h2>
                            <h2 class={`${loading && 'w-[100px]' } font-bold inline-block
                              text-[14px]`}>
                              {(order && `${order?.orderDate} | ${order?.orderTime}`) || '25 tháng 4
                              năm 2002'}
                            </h2>
                        </div> -->
                        <div
                          class="flex justify-between py-2 border border-transparent border-b-[#ddd] text-[14px]">
                          <h2 class=''>Tỉnh / Thành phố
                          </h2>
                          <h2 class='font-bold inline-block '>
                            {(order && order?.shippingAddress.city) || 'Bắc
                            Ninhhhhhhhhhhhhhhhhhhh'}
                          </h2>
                        </div>
                        <div
                          class="flex justify-between py-2 border border-transparent border-b-[#ddd] text-[14px]">
                          <h2 class=''>Quận / Huyện
                          </h2>
                          <h2 class='font-bold inline-block'>
                            {(order && order?.shippingAddress.district) || 'Bắc
                            Ninhhhhhhhhhhhhhhhhhhh'}
                          </h2>
                        </div>
                        <div
                          class="flex justify-between py-2 border border-transparent border-b-[#ddd] text-[14px]">
                          <h2 class=''>Phường / Xã
                          </h2>
                          <h2 class='font-bold inline-block'>
                            {(order && order?.shippingAddress.wards) || 'Bắc
                            Ninhhhhhhhhhhhhhhhhhhh'}
                          </h2>
                        </div>
                        <div
                          class="flex justify-between py-2 border border-transparent border-b-[#ddd] text-[14px]">
                          <h2 class=''>Địa chỉ cụ thể
                          </h2>
                          <h2 class='font-bold inline-block '>
                            {(order && order?.shippingAddress.address) || 'Bắc
                            Ninhhhhhhhhhhhhhhhhhhh'}
                          </h2>
                        </div>
                        <div
                          class="flex justify-between py-2 border border-transparent border-b-[#ddd] text-[14px]">
                          <h2 class=''>Số điện thoại
                          </h2>
                          <h2 class='font-bold inline-block '>
                            {(order && order?.shippingAddress.phoneNumber) || 'Bắc
                            Ninhhhhhhhhhhhhhhhhhhh'}
                          </h2>
                        </div>
                        <div
                          class="flex justify-between py-2 border border-transparent border-b-[#ddd] text-[14px]">
                          <h2 class=''>Ghi chú
                          </h2>
                          <h2 class='font-bold inline-block '>
                            {order && order?.shippingAddress.note
                            ? order.shippingAddress.note
                            : <p class={`${loading || 'italic' }`}>Không có ghi chú</p>}
                          </h2>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div style={{ height: '.1875rem' , width: '100%' ,
                    backgroundPositionX: '-1.875rem' , backgroundSize: '7.25rem .1875rem' ,
                    backgroundImage: 'repeating-linear-gradient(45deg,#6fa6d6,#6fa6d6 33px,transparent 0,transparent 41px,#f18d9b 0,#f18d9b 74px,transparent 0,transparent 82px)'
                    , }} class='my-4'></div>
                  {/* bottom */}
                  <div class="">
                    <div
                      class="w-full flex items-center justify-between item shadow-shadowPrimary px-3">
                      {['Đang xử lý', 'Vận chuyển', 'Đang giao', 'Hoàn thành']
                      .map(item => (
                      <button key={item} onClick={(e)=> {
                        e.preventDefault()
                        if (order.orderStatus === 'Hoàn thành') {
                        toast.error('Đơn hàng đã hoàn thành, không thể cập nhật', {
                        autoClose: 1200
                        })
                        }
                        else if (order.orderStatus === 'Đã hủy') {
                        toast.error('Đơn hàng đã bị hủy, không thể cập nhật', {
                        autoClose: 1200
                        })
                        }
                        else setActiveStatus(item)
                        }}
                        value={item}
                        class={`${activeStatus === item ? 'border-b-primary text-primary' :
                        'border-b-[#fff]'} text-center text-bgPrimary cursor-pointer transition-all
                        ease-in-out duration-150 border-[2px] border-t-0 border-l-0 border-r-0
                        hover:text-primary font-medium py-3`}>{item}</button>
                      ))}
                      <button onClick={(e)=> {
                        e.preventDefault()
                        console.log(activeStatus);
                        if (order.orderStatus === 'Hoàn thành') {
                        toast.error('Đơn hàng đã hoàn thành, không thể cập nhật', {
                        autoClose: 1200
                        })
                        }
                        else if (order.orderStatus === 'Đã hủy') {
                        toast.error('Đơn hàng đã bị hủy, không thể cập nhật', {
                        autoClose: 1200
                        })
                        }
                        else confirmUpdateStatus(e)
                        }}
                        class='bg-primary text-white px-2 py-1 hover:bg-[#a40206] transition-all
                        ease-linear duration-[120ms]'>
                        <span class='tracking-wider uppercase text-[14px] font-medium'>Cập nhật tình
                          trạng</span>
                      </button>
                    </div>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
        <!-- <Routes>
          <Route path='' element={<HomeAdmin />} />
          <Route path='home' element={<HomeAdmin />} />
          <Route path='view-users' element={<ViewUsers />} />
          <Route path='view-products' element={<ViewProducts />} />
          <Route path='add-product/:id' element={<AddProduct />} />
          <Route path='view-orders/:id' element={<ViewOrders />} />
        </Routes> -->
      </div>
    </div>
  </div>

  <!-- <script src="./addProduct.js"></script> -->
  <script>
    const currentPosition = localStorage.getItem('prevLocation');
    if (currentPosition) window.scrollTo(0, currentPosition);

    document.addEventListener('scroll', () => {
      localStorage.setItem('prevLocation', window.scrollY);
    })
  </script>
</body>

</html>